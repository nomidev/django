{% extends 'base.html' %}
{% block content %}

<h2>{{ master.name }} - 게시물 작성</h2>
<!-- 오류표시 Start -->
{% if form.errors %}
<div class="alert alert-danger" role="alert">
    {% for field in form %}
    {% if field.errors %}
    <div>
        <strong>{{ field.label }}</strong>
        {{ field.errors }}
    </div>
    {% endif %}
    {% endfor %}
</div>
{% endif %}
<!-- 오류표시 End -->

<form method="post">
    {% csrf_token %}

    <!-- {{ form.as_p }} -->
    <div class="mb-3">
        <label for="subject" class="form-label">제목</label>
        <input type="text" class="form-control" name="title" id="subject"
                value="{{ form.title.value|default_if_none:'' }}">
    </div>
    <div class="mb-3">
        <label for="content" class="form-label">내용</label>
        <textarea class="form-control" name="content"
                    id="content" rows="10">{{ form.content.value|default_if_none:'' }}</textarea>
    </div>
        
    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
        <button class="btn btn-primary" type="submit">등록</button>
        {% if post %}
            <a class="btn btn-secondary " href="{% url 'boards:board_detail' post.master.slug post.pk %}" role="button">취소</a>
        {% else %}
            <a class="btn btn-secondary " href="{% url 'boards:board_list_filter' master.slug %}" role="button">취소</a>
        {% endif %}
    </div>
</form>

{% endblock %}    
